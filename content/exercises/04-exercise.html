---
title: "Exercises"
linktitle: "4. Grouping and tables"
date: "2020-08-03"
publishdate: "2020-08-03"
menu:
  exercise:
type: docs
output:
  blogdown::html_page:
    toc: true
    toc_depth: 2
    number_sections: true
    pandoc_args: ["--number-offset=3"]
---


<div id="TOC">
<ul>
<li><a href="#the-basics"><span class="toc-section-number">4</span> The basics</a><ul>
<li><a href="#install-and-set-up-r-and-rstudio"><span class="toc-section-number">4.1</span> Install and set up R and RStudio</a></li>
</ul></li>
<li><a href="#instructions"><span class="toc-section-number">5</span> Instructions</a></li>
</ul>
</div>

<div id="the-basics" class="section level1">
<h1><span class="header-section-number">4</span> The basics</h1>
<div id="install-and-set-up-r-and-rstudio" class="section level2">
<h2><span class="header-section-number">4.1</span> Install and set up R and RStudio</h2>
<div id="install-r" class="section level3 unnumbered">
<h3>Install R</h3>
</div>
</div>
</div>
<div id="instructions" class="section level1">
<h1><span class="header-section-number">5</span> Instructions</h1>
<ol style="list-style-type: decimal">
<li>Create a variable called <code>slp_cat_wkday</code> categorizing weekday sleep.</li>
<li>Subset the dataset to only include people with missing values.</li>
<li>Remove non-sleep-related variables from the dataset.</li>
<li>Call your finished dataset <code>missing_sleep</code>.</li>
</ol>
<pre class="r"><code>nlsy &lt;- mutate(nlsy, slp_cat_wkdy = case_when(
  sleep_wkdy &lt; 5 ~ &quot;little&quot;,
  sleep_wkdy &lt; 7 ~ &quot;some&quot;,
  sleep_wkdy &lt; 9 ~ &quot;ideal&quot;,
  sleep_wkdy &lt; 12 ~ &quot;lots&quot;,
  TRUE ~ NA_character_))</code></pre>
<pre class="message"><code>#&gt;  Error in mutate(nlsy, slp_cat_wkdy = case_when(sleep_wkdy &lt; 5 ~ &quot;little&quot;, : could not find function &quot;mutate&quot;
missing_sleep &lt;- filter(nlsy, is.na(slp_cat_wkdy))</code></pre>
<pre class="message"><code>#&gt;  Error in as.ts(x): object &#39;nlsy&#39; not found
missing_sleep &lt;- select(missing_sleep, starts_with(&quot;slp&quot;), contains(&quot;sleep&quot;))</code></pre>
<pre class="message"><code>#&gt;  Error in select(missing_sleep, starts_with(&quot;slp&quot;), contains(&quot;sleep&quot;)): could not find function &quot;select&quot;
missing_sleep</code></pre>
<pre class="message"><code>#&gt;  Error in eval(expr, envir, enclos): object &#39;missing_sleep&#39; not found</code></pre>
class:inverse
# Exercises 2
.center[
<iframe src="https://giphy.com/embed/dsKnRuALlWsZG" width="480" height="271" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
<p>
<a href="https://giphy.com/gifs/the-office-steve-carell-michael-scott-dsKnRuALlWsZG"></a>
</p>
<p>]</p>
<ol style="list-style-type: decimal">
<li>Among the only children, find the correlation between hours of sleep on weekdays and weekends.</li>
<li>Create a variable that is 1 if an observation has an income between 20,000 and 30,000, and 0 otherwise. Calculate the proportion of people in the dataset who fit that criterion.</li>
<li>Recreate the <code>summary()</code> function using <code>summarize()</code> (i.e., produce all the same statistics for a variable of your choice.)</li>
</ol>
class:inverse
# Exercises 3
.center[
<iframe src="https://giphy.com/embed/IXB6mQUgOqWQM" width="360" height="270" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
<p>
<a href="https://giphy.com/gifs/make-count-withcount-IXB6mQUgOqWQM"></a>
</p>
<p>]</p>
<ol style="list-style-type: decimal">
<li>Find the median income per region. Before doing so, make sure that you’ve made region into a factor variable with appropriate names so we can easily read your results.</li>
<li>Calculate and compare the median income for people who sleep at least 8 hours on weekdays and those who sleep less.</li>
<li>Among the women (<code>sex = 2</code>), calculate the proportion who live in each region.</li>
</ol>
<p>class: inverse
# Exercises/challenge</p>
<ol style="list-style-type: decimal">
<li>Apply the following inclusion criteria to the NLSY dataset to make a analysis dataset: from region 1 or 4, with at least 2 siblings, and doesn’t wear glasses.</li>
<li>Make a variable in that dataset that categorizes people in quartiles (split at 25th, 50th, and 75% percentiles of the new dataset) by income. Make sure the categories have descriptive names.</li>
<li>Make a table 1 for this new dataset, stratified by the new income variable. Make sure they show up in the correct order in your table. Include p-values testing across strata but only print 2 digits for them. Perform an exact test for the region comparison.</li>
<li>(Challenge) Make a nice-looking table 1 for some data you are working with or have access to!</li>
</ol>
<hr />
</div>
