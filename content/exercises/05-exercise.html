---
title: "Exercises"
linktitle: "5. Functions"
date: "2020-08-10"
publishdate: "2020-08-10"
menu:
  exercise:
type: docs
output:
  blogdown::html_page:
    toc: true
    toc_depth: 2
    number_sections: true
    pandoc_args: ["--number-offset=4"]
---


<div id="TOC">
<ul>
<li><a href="#the-basics"><span class="toc-section-number">5</span> The basics</a><ul>
<li><a href="#install-and-set-up-r-and-rstudio"><span class="toc-section-number">5.1</span> Install and set up R and RStudio</a></li>
</ul></li>
<li><a href="#exercises-1"><span class="toc-section-number">6</span> Exercises 1</a></li>
<li><a href="#exercises-2"><span class="toc-section-number">7</span> Exercises 2</a></li>
<li><a href="#exercises-3"><span class="toc-section-number">8</span> Exercises 3</a></li>
<li><a href="#challenge"><span class="toc-section-number">9</span> Challenge</a></li>
</ul>
</div>

<div id="the-basics" class="section level1">
<h1><span class="header-section-number">5</span> The basics</h1>
<div id="install-and-set-up-r-and-rstudio" class="section level2">
<h2><span class="header-section-number">5.1</span> Install and set up R and RStudio</h2>
<div id="install-r" class="section level3 unnumbered">
<h3>Install R</h3>
</div>
</div>
</div>
<div id="exercises-1" class="section level1">
<h1><span class="header-section-number">6</span> Exercises 1</h1>
.center[
<iframe src="https://giphy.com/embed/2WUkAVDzuQbUA" width="220" height="220" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
<p>
<a href="https://giphy.com/gifs/line-cube-shapes-2WUkAVDzuQbUA"></a>
</p>
<p>]</p>
<ol style="list-style-type: decimal">
<li>You’re tired of writing <code>x^2</code> when you want to square <code>x</code>. Make a function to square a number. You can call it <code>square()</code>.</li>
<li>You don’t just want to square numbers, you want to raise them to higher powers too. Make a function that uses two arguments, <code>x</code> for a number, and <code>power</code> for the power. Call it <code>raise()</code>.</li>
<li>Change your <code>raise()</code> function to default to squaring <code>x</code> when the user doesn’t enter a value for <code>power</code>.</li>
<li>Use your function to square and cube 524 with <code>raise(524)</code> and <code>raise(524, power = 3)</code>.</li>
</ol>
</div>
<div id="exercises-2" class="section level1">
<h1><span class="header-section-number">7</span> Exercises 2</h1>
.center[
<iframe src="https://giphy.com/embed/l3vR4Fp4U1DhW8bhS" width="384" height="222" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
<p>
<a href="https://giphy.com/gifs/l3vR4Fp4U1DhW8bhS"></a>
</p>
<p>]
1. Write a function to calculate the stratified mean income for grouping variable <code>var</code>. In other words, write a function such that <code>mean_group_inc(var = "sex")</code> produces the same results as the first line on the previous slide, <code>mean_group_inc(var = "race_eth")</code> the second.
2. Rewrite your function to accept two arguments: <code>group_var</code> to determine what the grouping variable is, and <code>mean_var</code> to determine what variable you want to take the mean of (e.g., <code>mean_group(group_var = "sex", mean_var = "income")</code> should give you the same results as above).</p>
</div>
<div id="exercises-3" class="section level1">
<h1><span class="header-section-number">8</span> Exercises 3</h1>
.center[
<iframe src="https://giphy.com/embed/EmMWgjxt6HqXC" width="384" height="257" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>
<p>
<a href="https://giphy.com/gifs/loop-cat-EmMWgjxt6HqXC"></a>
</p>
<p>]
1. Change the last for loop in the slides to loop over different variables instead of different quantiles. That is, calculate the 0.25 quantile for each of <code>c("income", "age_bir", "nsibs")</code> in a for loop.
2. You can nest for loops inside each other, as long as you use different iteration variables. Write a nested for loop to iterate over variables (with <code>i</code>) and quantiles (with <code>j</code>). You’ll need to start with an empty matrix instead of a vector, with rows indexed by <code>i</code> and columns by <code>j</code>. Calculate each of the deciles for each of the above variables.</p>
</div>
<div id="challenge" class="section level1">
<h1><span class="header-section-number">9</span> Challenge</h1>
<p>Create a function that calculates the stratified proportion of people with different levels of <code>eyesight</code> by any categorical variable. Then use any technique (besides copying and pasting) to calculate the proportions stratified by <code>sex</code>, <code>race_eth</code>, and <code>region</code>. You should end up with something like this:</p>
<hr />
<pre class="message"><code>#&gt;  Error in map_dfr(c(&quot;sex&quot;, &quot;race_eth&quot;, &quot;region&quot;), eye_func): could not find function &quot;map_dfr&quot;</code></pre>
</div>
